{"version":3,"sources":["../index.js"],"names":["app","server","http","createServer","use","bodyParser","json","limit","config","bodyLimit","express","static","path","join","__dirname","passport","initialize","api","listen","process","env","PORT","port","logger","info","address"],"mappings":";;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAVA;AAYA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,MAAJ,GAAaC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;;AAEAA,IAAII,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACA;AACAJ,IAAII,GAAJ,CAAQC,qBAAWC,IAAX,CAAgB,EAAEC,OAAQC,iBAAOC,SAAjB,EAAhB,CAAR;;AAEAT,IAAII,GAAJ,CAAQM,kBAAQC,MAAR,CAAeC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,iBAArB,CAAf,CAAR;;AAEA,kBAAa,YAAM;AAClBd,KAAII,GAAJ,CAAQW,mBAASC,UAAT,EAAR;;AAEA,yBAAmBD,kBAAnB;;AAEAf,KAAII,GAAJ,CAAQ,MAAR,EAAgBa,aAAhB;AACAjB,KAAIC,MAAJ,CAAWiB,MAAX,CAAkBC,QAAQC,GAAR,CAAYC,IAAZ,IAAoBb,iBAAOc,IAA7C,EAAmD,YAAM;AACxDC,eAAOC,IAAP,sBAA+BxB,IAAIC,MAAJ,CAAWwB,OAAX,GAAqBH,IAApD;AACA,EAFD;AAGA,CATD;;kBAWetB,G","file":"index.js","sourcesContent":["import bodyParser from 'body-parser';\n//import cors from 'cors';\nimport express from 'express';\nimport path from 'path';\nimport http from 'http';\nimport morgan from 'morgan';\nimport passport from 'passport';\nimport { logger } from './lib/util';\nimport api from './api';\nimport config from './config';\nimport initializeDb from './db';\nimport passportMiddleware from './middleware/passport';\n\nconst app = express();\n\napp.server = http.createServer(app);\n\napp.use(morgan('dev'));\n//app.use(cors({ exposedHeaders: config.corsHeaders }));\napp.use(bodyParser.json({ limit : config.bodyLimit }));\n\napp.use(express.static(path.join(__dirname, '../client/build')));\n\ninitializeDb(() => {\n\tapp.use(passport.initialize());\n\t\n\tpassportMiddleware(passport);\n\n\tapp.use('/api', api);\n\tapp.server.listen(process.env.PORT || config.port, () => {\n\t\tlogger.info(`Started on port ${app.server.address().port}`);\n\t});\n});\n\nexport default app;\n"]}