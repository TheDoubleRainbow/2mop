{"version":3,"sources":["../../api/company.js"],"names":["companyApi","id","index","res","params","CompanyModel","find","then","send","result","catch","status","error","read","companyId","findById","update","body","findByIdAndUpdate","delete","findByIdAndRemove"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;AAEA,IAAMA,aAAa,wCAAS;AAC3BC,KAAI,WADuB;;AAG3BC,MAH2B,uBAGTC,GAHS,EAGJ;AAAA,MAAfC,MAAe,QAAfA,MAAe;;AACtBC,oBAAaC,IAAb,GACEC,IADF,CACO;AAAA,UAAUJ,IAAIK,IAAJ,CAASC,MAAT,CAAV;AAAA,GADP,EAEEC,KAFF,CAEQ;AAAA,UAASP,IAAIQ,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqBI,KAArB,CAAT;AAAA,GAFR;AAGA,EAP0B;AAS3BC,KAT2B,uBASKV,GATL,EASU;AAAA,MAApBW,SAAoB,SAA9BV,MAA8B,CAApBU,SAAoB;;AACpCT,oBAAaU,QAAb,CAAsBD,SAAtB,EACEP,IADF,CACO;AAAA,UAAUJ,IAAIK,IAAJ,CAASC,MAAT,CAAV;AAAA,GADP,EAEEC,KAFF,CAEQ;AAAA,UAAMP,IAAIQ,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB,0BAAW,oBAAX,CAArB,CAAN;AAAA,GAFR;AAGA,EAb0B;AAe3BQ,OAf2B,yBAeab,GAfb,EAekB;AAAA,MAA1BW,SAA0B,SAApCV,MAAoC,CAA1BU,SAA0B;AAAA,MAAbG,IAAa,SAAbA,IAAa;;AAC5CZ,oBAAaa,iBAAb,CAA+BJ,SAA/B,EAA0CG,IAA1C,EACEV,IADF,CACO;AAAA,UAAMF,kBAAaU,QAAb,CAAsBD,SAAtB,EAAiCP,IAAjC,CAAsC;AAAA,WAAUJ,IAAIK,IAAJ,CAASC,MAAT,CAAV;AAAA,IAAtC,CAAN;AAAA,GADP,EAEEC,KAFF,CAEQ;AAAA,UAAMP,IAAIQ,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB,0BAAW,oBAAX,CAArB,CAAN;AAAA,GAFR;AAGA,EAnB0B;AAqB3BW,OArB2B,0BAqBOhB,GArBP,EAqBY;AAAA,MAApBW,SAAoB,SAA9BV,MAA8B,CAApBU,SAAoB;;AACtCT,oBAAae,iBAAb,CAA+BN,SAA/B,EACEP,IADF,CACO;AAAA,UAAMJ,IAAIK,IAAJ,CAAS,0BAAW,+BAAX,CAAT,CAAN;AAAA,GADP,EAEEE,KAFF,CAEQ;AAAA,UAAMP,IAAIQ,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB,0BAAW,oBAAX,CAArB,CAAN;AAAA,GAFR;AAGA;AAzB0B,CAAT,CAAnB;;kBA4BeR,U","file":"company.js","sourcesContent":["import resource from 'resource-router-middleware';\nimport { merge, get, isEmpty } from 'lodash/fp';\nimport resMessage from '../lib/res-message';\nimport CompanyModel from '../models/company';\n\nconst companyApi = resource({\n\tid: 'companyId',\n\n\tindex({ params }, res) {\n\t\tCompanyModel.find()\n\t\t\t.then(result => res.send(result))\n\t\t\t.catch(error => res.status(400).send(error))\n\t},\n\n\tread({ params: { companyId } }, res) {\n\t\tCompanyModel.findById(companyId)\n\t\t\t.then(result => res.send(result))\n\t\t\t.catch(() => res.status(404).send(resMessage('Company not found.')))\n\t},\n\n\tupdate({ params: { companyId }, body }, res) {\n\t\tCompanyModel.findByIdAndUpdate(companyId, body)\n\t\t\t.then(() => CompanyModel.findById(companyId).then(result => res.send(result)))\n\t\t\t.catch(() => res.status(404).send(resMessage('Company not found.')))\n\t},\n\n\tdelete({ params: { companyId } }, res) {\n\t\tCompanyModel.findByIdAndRemove(companyId)\n\t\t\t.then(() => res.send(resMessage('Company successfully deleted!')))\n\t\t\t.catch(() => res.status(404).send(resMessage('Company not found.')))\n\t}\n});\n\nexport default companyApi;\n"]}